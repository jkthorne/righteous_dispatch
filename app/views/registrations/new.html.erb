<% content_for :title, "Register - RighteousDispatch" %>

<div class="max-w-md mx-auto mt-8 sm:mt-16">
  <div class="border border-base-content/20">
    <div class="bg-base-content/5 p-3 border-b border-base-content/20">
      <div class="text-[10px] sm:text-xs font-bold">CREATE ACCOUNT</div>
    </div>

    <div class="p-4 sm:p-6">
      <p class="text-[10px] sm:text-xs text-base-content/60 mb-6">
        Join RighteousDispatch and send truth boldly.
      </p>

      <%= form_with model: @user, url: registration_path, class: "space-y-4" do |f| %>
        <% if @user.errors.any? %>
          <div class="bg-error/10 border border-error/30 p-3">
            <div class="text-[10px] text-error font-bold mb-2">PLEASE FIX THE FOLLOWING ERRORS:</div>
            <ul class="text-[10px] text-error space-y-1">
              <% @user.errors.full_messages.each do |message| %>
                <li>- <%= message %></li>
              <% end %>
            </ul>
          </div>
        <% end %>

        <div>
          <label class="text-[10px] text-base-content/60 mb-1 block font-bold">NAME</label>
          <%= f.text_field :name, required: true, autofocus: true,
              class: "w-full border border-base-content/20 bg-base-100 px-3 py-2 text-xs focus:border-primary focus:outline-none",
              placeholder: "Your name" %>
        </div>

        <div>
          <label class="text-[10px] text-base-content/60 mb-1 block font-bold">EMAIL</label>
          <%= f.email_field :email, required: true,
              class: "w-full border border-base-content/20 bg-base-100 px-3 py-2 text-xs focus:border-primary focus:outline-none",
              placeholder: "your@email.com" %>
        </div>

        <div>
          <label class="text-[10px] text-base-content/60 mb-1 block font-bold">PASSWORD</label>
          <%= f.password_field :password, required: true,
              class: "w-full border border-base-content/20 bg-base-100 px-3 py-2 text-xs focus:border-primary focus:outline-none",
              placeholder: "Minimum 8 characters" %>
        </div>

        <div>
          <label class="text-[10px] text-base-content/60 mb-1 block font-bold">CONFIRM PASSWORD</label>
          <%= f.password_field :password_confirmation, required: true,
              class: "w-full border border-base-content/20 bg-base-100 px-3 py-2 text-xs focus:border-primary focus:outline-none",
              placeholder: "Repeat password" %>
        </div>

        <div class="pt-2">
          <%= f.submit "CREATE ACCOUNT",
              class: "w-full bg-primary text-primary-content hover:bg-primary/80 px-4 py-2.5 text-[10px] sm:text-xs font-bold transition-colors cursor-pointer" %>
        </div>
      <% end %>

      <div class="mt-6 pt-4 border-t border-base-content/10">
        <div class="text-[10px] text-base-content/60">
          ALREADY HAVE AN ACCOUNT?
          <%= link_to "SIGN IN", new_session_path, class: "text-primary hover:underline font-bold" %>
        </div>
      </div>
    </div>
  </div>
</div>
