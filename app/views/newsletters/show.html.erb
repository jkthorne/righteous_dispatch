<% content_for :title, "Preview: #{@newsletter.title} - RighteousDispatch" %>

<div class="max-w-3xl mx-auto">
  <div class="mb-6">
    <div class="text-[10px] text-base-content/60 mb-2">
      <%= link_to "NEWSLETTERS", newsletters_path, class: "hover:underline" %> /
      <%= link_to "EDIT", edit_newsletter_path(@newsletter), class: "hover:underline" %> / PREVIEW
    </div>
    <h1 class="text-lg sm:text-xl font-bold">PREVIEW</h1>
  </div>

  <!-- Email Preview -->
  <div class="border border-base-content/20">
    <div class="bg-base-content/5 p-3 border-b border-base-content/20">
      <div class="text-[10px] sm:text-xs font-bold">EMAIL PREVIEW</div>
    </div>
    <div class="p-4 sm:p-6">
      <!-- Email Header -->
      <div class="mb-6 pb-4 border-b border-base-content/10">
        <div class="text-[10px] text-base-content/60 mb-1">FROM: RighteousDispatch &lt;noreply@righteousdispatch.com&gt;</div>
        <div class="text-[10px] text-base-content/60 mb-1">TO: subscriber@example.com</div>
        <div class="text-sm font-bold"><%= @newsletter.subject || "(No subject)" %></div>
        <% if @newsletter.preview_text.present? %>
          <div class="text-[10px] text-base-content/60 mt-1"><%= @newsletter.preview_text %></div>
        <% end %>
      </div>

      <!-- Email Content -->
      <div class="prose prose-sm max-w-none">
        <% if @newsletter.content.present? %>
          <%= @newsletter.content %>
        <% else %>
          <p class="text-base-content/40 italic">No content yet. Edit the newsletter to add content.</p>
        <% end %>
      </div>
    </div>
  </div>

  <div class="mt-6 flex items-center gap-3">
    <%= link_to "EDIT NEWSLETTER", edit_newsletter_path(@newsletter),
        class: "bg-primary text-primary-content hover:bg-primary/80 px-4 py-2 text-[10px] sm:text-xs font-bold transition-colors" %>
    <%= link_to "BACK TO LIST", newsletters_path, class: "text-[10px] text-base-content/60 hover:underline font-bold" %>
  </div>
</div>
